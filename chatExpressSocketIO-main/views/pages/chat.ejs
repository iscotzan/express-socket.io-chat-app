<!DOCTYPE html>

<html>
<head>
    <title> Chat</title>
    <!--<script src='http://code.jquery.com/jquery-1.7.1.min.js'></script>-->
    <!--<script src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js'></script>-->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js" integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timeago/1.4.3/jquery.timeago.js"></script>
    <!--jquery form submit ;)-->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js" integrity="sha256-qE/6vdSYzQu9lgosKxhFplETvWvqAAlmAuR+yPh/0SI=" crossorigin="anonymous"></script>-->
    <script src="/socket.io/socket.io.js"></script>
    <!--<script src="/socket.io/socket.io.js"></script>-->
    <!--<script src="scroller.js"></script>-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js" integrity="sha256-qE/6vdSYzQu9lgosKxhFplETvWvqAAlmAuR+yPh/0SI=" crossorigin="anonymous"></script>
    <!--<script src="../public/script.js"></script>-->
    <script src="../script.js"></script>
    <!--<script src="../script/customDropFiles.js"></script>-->
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/rag_styles.css">

</head>
<body>
<div class="container" id="main">

    <header>
        <nav class="navbar navbar-default" id="chatNavbar" role="navigation">
            <div class="container-fluid">

                <div class="navbar-header">
                    <a class="navbar-brand" href="#">
                        <span class="glyphicon glyphicon glyphicon-tree-deciduous"></span>
                        Chew The Rag
                    </a>
                </div>
                <ul class="nav navbar-nav pull-right">
                    <li><a href="/" id="logoutNavLink">Logout</a></li>
                </ul>

            </div>
        </nav>
    </header>



    <div id="chatEntries">

    </div>

    <div class="row" id="entries">
        <input type='text' id="messageInput">
        <div class="btn-group">
            <button class="btn" id="submit" data-loading-text="Send">Send</button>
            <button class="btn dropdown-toggle" data-toggle="dropdown">
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" id="submitChatDropDownMenu">
                <li>
                    <a id="edit" href="#modalPseudo" data-toggle="modal">
                        <i class="icon-user">
                        </i>                            Change name

                    </a>
                </li>
                <!--<li>-->
                    <!--<a href="#" data-toggle="modal" id="info">-->
                        <!--<i class="icon-info-sign">-->
                        <!--</i>                            Infos-->

                    <!--</a>-->
                <!--</li>-->
                <li>
                <form id="uploadForm"
                      enctype="multipart/form-data"
                      action="/chat/photo"
                      method="post">
                    <input type="text" value="" class="hidden" id="u_pseudo" name="u_pseudo" readonly>
                    <input type="text" value="" class="hidden" id="u_color4others" name="u_color4others" readonly>
                    <input type="file" id="imageFile" name="userPhoto" />
                    <input type="submit" value="Upload Image" name="submit">
                    <span id = "status"></span>
                </form>
                </li>
            </ul>
        </div>
    </div>
    <div id="nbUsersDiv">
        <p>
            There are <span id="nbUsers"></span> connected user(s).
        </p>
    </div>
</div>

<!--//modal dialog-->
<div class="modal fade" id="modalPseudo">

    <div class="modal-header">
        <h3>Choose a name</h3>
    </div>

    <div class="modal-body">
        <p> Choose a Nickname :</p>
        <input type='text' id="pseudoNickInput" value="Guest" autofocus>

        <div class="alert alert-error" id="alertPseudoNick">
            This name is already used ! Choose another one.
        </div>


        <!--this section enables user to select his color
        // I rather that self Messages will always be the same color,
         so color is only randomized for others to display-->

        <!--<fieldset>-->
        <!--<label for="colors-menu">Select a Color</label>-->
        <!--<select name="colorsMenu" id="colors-menu">-->
        <!--<option disabled selected>Please pick your color: </option>-->
        <!--<option>Blue</option>-->
        <!--<option>Green</option>-->
        <!--<option>Red</option>-->
        <!--<option>Orange</option>-->
        <!--<option>Pink</option>-->
        <!--<option>Yellow</option>-->
        <!--</select>-->
        <!--</fieldset>-->

        <!---->

    </div>

    <div class="modal-footer">
        <!--<button class="btn btn-danger" data-dismiss="modal" id="pseudoRemain">Keep Original</button>-->
        <button class="btn btn-primary" id="pseudoSubmit">Set Nickname</button>
    </div>
</div>


<!--/////////////////////////////////////////////////////////////////////////////////-->
<!--/////////////////////////////////////////////////////////////////////////////////-->
<!--/////////////////////////////////////////////////////////////////////////////////-->

</body>
</html>